{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\denis\\\\OneDrive - Sofia University\\\\Desktop\\\\instant-messages-search\\\\instant-messages-search\\\\client\\\\src\\\\components\\\\MessageBox.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useEffect, useRef } from \"react\";\nimport { useRefManager } from \"./RefMessagesManager\";\nimport MessageItem from \"./MessageItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchResults = ({\n  id,\n  messages,\n  onMessageClick\n}) => {\n  _s();\n  const {\n    registerPanel,\n    unregisterPanel\n  } = useRefManager();\n  const targetsRef = useRef({});\n  useEffect(() => {\n    registerPanel(id, {\n      targetsRef\n    });\n    return () => {\n      unregisterPanel(id);\n    };\n  }, [id, registerPanel, unregisterPanel]);\n  if (messages.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"No results found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: messages.map(msg => /*#__PURE__*/_jsxDEV(MessageItem, {\n      user: msg.user,\n      content: msg.content,\n      timestamp: msg.timestamp,\n      onClick: onMessageClick ? () => onMessageClick(msg.id) : undefined,\n      targetRef: el => {\n        if (el) {\n          targetsRef.current[msg.id] = el;\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n_s(SearchResults, \"npZV5hAOxEv3FKDguTtzvMOcQlQ=\", false, function () {\n  return [useRefManager];\n});\n_c = SearchResults;\nexport default SearchResults;\nvar _c;\n$RefreshReg$(_c, \"SearchResults\");","map":{"version":3,"names":["React","useEffect","useRef","useRefManager","MessageItem","jsxDEV","_jsxDEV","SearchResults","id","messages","onMessageClick","_s","registerPanel","unregisterPanel","targetsRef","length","children","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","user","content","timestamp","onClick","undefined","targetRef","el","current","_c","$RefreshReg$"],"sources":["C:/Users/denis/OneDrive - Sofia University/Desktop/instant-messages-search/instant-messages-search/client/src/components/MessageBox.tsx"],"sourcesContent":["import React from \"react\"\r\nimport { useEffect, useRef } from \"react\"\r\nimport { Message } from \"../../../server/messages\"\r\nimport { useRefManager } from \"./RefMessagesManager\"\r\nimport MessageItem from \"./MessageItem\"\r\n\r\ntype SearchResults = {\r\n    id: string;\r\n    messages: Message[];\r\n    onMessageClick?: (id: number) => void;\r\n}\r\n\r\nconst SearchResults: React.FC<SearchResults> = ({ id, messages, onMessageClick }) => {\r\n    const {registerPanel, unregisterPanel } = useRefManager()\r\n    const targetsRef = useRef<Record<number, HTMLElement>>({});\r\n\r\n    useEffect(() => {\r\n        registerPanel(id, {targetsRef})\r\n\r\n        return () => {\r\n            unregisterPanel(id)\r\n        }\r\n    }, [id, registerPanel, unregisterPanel] )\r\n\r\n    if (messages.length === 0) {\r\n        return (\r\n            <div>\r\n                <h3>No results found.</h3>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {messages.map((msg) => (\r\n                <MessageItem\r\n                user={msg.user}\r\n                content={msg.content}\r\n                timestamp={msg.timestamp}\r\n                onClick={onMessageClick ? () => onMessageClick(msg.id) : undefined}\r\n                targetRef={(el) => {\r\n                    if (el) {\r\n                      targetsRef.current[msg.id] = el;\r\n                    }\r\n                  }}\r\n                />\r\n            ))}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SearchResults;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAEzC,SAASC,aAAa,QAAQ,sBAAsB;AACpD,OAAOC,WAAW,MAAM,eAAe;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAQvC,MAAMC,aAAsC,GAAGA,CAAC;EAAEC,EAAE;EAAEC,QAAQ;EAAEC;AAAe,CAAC,KAAK;EAAAC,EAAA;EACjF,MAAM;IAACC,aAAa;IAAEC;EAAgB,CAAC,GAAGV,aAAa,CAAC,CAAC;EACzD,MAAMW,UAAU,GAAGZ,MAAM,CAA8B,CAAC,CAAC,CAAC;EAE1DD,SAAS,CAAC,MAAM;IACZW,aAAa,CAACJ,EAAE,EAAE;MAACM;IAAU,CAAC,CAAC;IAE/B,OAAO,MAAM;MACTD,eAAe,CAACL,EAAE,CAAC;IACvB,CAAC;EACL,CAAC,EAAE,CAACA,EAAE,EAAEI,aAAa,EAAEC,eAAe,CAAE,CAAC;EAEzC,IAAIJ,QAAQ,CAACM,MAAM,KAAK,CAAC,EAAE;IACvB,oBACIT,OAAA;MAAAU,QAAA,eACIV,OAAA;QAAAU,QAAA,EAAI;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC;EAEd;EAEA,oBACId,OAAA;IAAAU,QAAA,EACKP,QAAQ,CAACY,GAAG,CAAEC,GAAG,iBACdhB,OAAA,CAACF,WAAW;MACZmB,IAAI,EAAED,GAAG,CAACC,IAAK;MACfC,OAAO,EAAEF,GAAG,CAACE,OAAQ;MACrBC,SAAS,EAAEH,GAAG,CAACG,SAAU;MACzBC,OAAO,EAAEhB,cAAc,GAAG,MAAMA,cAAc,CAACY,GAAG,CAACd,EAAE,CAAC,GAAGmB,SAAU;MACnEC,SAAS,EAAGC,EAAE,IAAK;QACf,IAAIA,EAAE,EAAE;UACNf,UAAU,CAACgB,OAAO,CAACR,GAAG,CAACd,EAAE,CAAC,GAAGqB,EAAE;QACjC;MACF;IAAE;MAAAZ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACJ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEd,CAAC;AAACT,EAAA,CArCIJ,aAAsC;EAAA,QACEJ,aAAa;AAAA;AAAA4B,EAAA,GADrDxB,aAAsC;AAuC5C,eAAeA,aAAa;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}