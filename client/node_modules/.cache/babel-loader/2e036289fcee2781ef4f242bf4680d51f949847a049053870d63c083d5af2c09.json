{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\denis\\\\OneDrive - Sofia University\\\\Desktop\\\\instant-messages-search\\\\instant-messages-search\\\\client\\\\src\\\\components\\\\MessageBox.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useEffect, useRef } from \"react\";\nimport { useRefManager } from \"./RefMessagesManager\";\nimport MessageItem from \"./MessageItem/MessageItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageBox = ({\n  id,\n  messages,\n  onMessageClick,\n  highlightedWord\n}) => {\n  _s();\n  const {\n    registerPanel,\n    unregisterPanel\n  } = useRefManager();\n  const targetsRef = useRef({});\n  useEffect(() => {\n    registerPanel(id, {\n      targetsRef\n    });\n    return () => {\n      unregisterPanel(id);\n    };\n  }, [id, registerPanel, unregisterPanel]);\n  if (messages.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"No results found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 17\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: messages.map(msg => /*#__PURE__*/_jsxDEV(MessageItem, {\n      user: msg.user,\n      content: msg.content,\n      timestamp: msg.timestamp,\n      onClick: onMessageClick ? () => onMessageClick(msg.id) : undefined,\n      targetRef: el => {\n        if (el) {\n          targetsRef.current[msg.id] = el;\n        }\n      },\n      highlightedWord: highlightedWord\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 21\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 13\n  }, this);\n};\n_s(MessageBox, \"npZV5hAOxEv3FKDguTtzvMOcQlQ=\", false, function () {\n  return [useRefManager];\n});\n_c = MessageBox;\nexport default MessageBox;\nvar _c;\n$RefreshReg$(_c, \"MessageBox\");","map":{"version":3,"names":["React","useEffect","useRef","useRefManager","MessageItem","jsxDEV","_jsxDEV","MessageBox","id","messages","onMessageClick","highlightedWord","_s","registerPanel","unregisterPanel","targetsRef","length","children","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","user","content","timestamp","onClick","undefined","targetRef","el","current","_c","$RefreshReg$"],"sources":["C:/Users/denis/OneDrive - Sofia University/Desktop/instant-messages-search/instant-messages-search/client/src/components/MessageBox.tsx"],"sourcesContent":["    import React from \"react\"\r\n    import { useEffect, useRef } from \"react\"\r\n    import { useRefManager } from \"./RefMessagesManager\"\r\n    import MessageItem from \"./MessageItem/MessageItem\"\r\n    import { Message } from \"../../../server/messages\"\r\n\r\n    type MessageBoxType = {\r\n        id: string;\r\n        messages: Message[];\r\n        onMessageClick?: (id: number) => void;\r\n        highlightedWord?: string;\r\n    }\r\n\r\n    const MessageBox: React.FC<MessageBoxType> = ({ id, messages, onMessageClick, highlightedWord }) => {\r\n        const {registerPanel, unregisterPanel } = useRefManager()\r\n        const targetsRef = useRef<Record<number, HTMLElement>>({});\r\n\r\n        useEffect(() => {\r\n            registerPanel(id, {targetsRef})\r\n\r\n            return () => {\r\n                unregisterPanel(id)\r\n            }\r\n        }, [id, registerPanel, unregisterPanel])\r\n\r\n        if (messages.length === 0) {\r\n            return (\r\n                <div>\r\n                    <h3>No results found.</h3>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {messages.map((msg) => (\r\n                    <MessageItem\r\n                    user={msg.user}\r\n                    content={msg.content}\r\n                    timestamp={msg.timestamp}\r\n                    onClick={onMessageClick ? () => onMessageClick(msg.id) : undefined}\r\n                    targetRef={(el) => {\r\n                        if (el) {\r\n                        targetsRef.current[msg.id] = el;\r\n                        }\r\n                    }}\r\n                    highlightedWord={highlightedWord}\r\n                    />\r\n                ))}\r\n            </div>\r\n        )\r\n    };\r\n\r\n    export default MessageBox;"],"mappings":";;AAAI,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,SAASC,aAAa,QAAQ,sBAAsB;AACpD,OAAOC,WAAW,MAAM,2BAA2B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAUnD,MAAMC,UAAoC,GAAGA,CAAC;EAAEC,EAAE;EAAEC,QAAQ;EAAEC,cAAc;EAAEC;AAAgB,CAAC,KAAK;EAAAC,EAAA;EAChG,MAAM;IAACC,aAAa;IAAEC;EAAgB,CAAC,GAAGX,aAAa,CAAC,CAAC;EACzD,MAAMY,UAAU,GAAGb,MAAM,CAA8B,CAAC,CAAC,CAAC;EAE1DD,SAAS,CAAC,MAAM;IACZY,aAAa,CAACL,EAAE,EAAE;MAACO;IAAU,CAAC,CAAC;IAE/B,OAAO,MAAM;MACTD,eAAe,CAACN,EAAE,CAAC;IACvB,CAAC;EACL,CAAC,EAAE,CAACA,EAAE,EAAEK,aAAa,EAAEC,eAAe,CAAC,CAAC;EAExC,IAAIL,QAAQ,CAACO,MAAM,KAAK,CAAC,EAAE;IACvB,oBACIV,OAAA;MAAAW,QAAA,eACIX,OAAA;QAAAW,QAAA,EAAI;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC;EAEd;EAEA,oBACIf,OAAA;IAAAW,QAAA,EACKR,QAAQ,CAACa,GAAG,CAAEC,GAAG,iBACdjB,OAAA,CAACF,WAAW;MACZoB,IAAI,EAAED,GAAG,CAACC,IAAK;MACfC,OAAO,EAAEF,GAAG,CAACE,OAAQ;MACrBC,SAAS,EAAEH,GAAG,CAACG,SAAU;MACzBC,OAAO,EAAEjB,cAAc,GAAG,MAAMA,cAAc,CAACa,GAAG,CAACf,EAAE,CAAC,GAAGoB,SAAU;MACnEC,SAAS,EAAGC,EAAE,IAAK;QACf,IAAIA,EAAE,EAAE;UACRf,UAAU,CAACgB,OAAO,CAACR,GAAG,CAACf,EAAE,CAAC,GAAGsB,EAAE;QAC/B;MACJ,CAAE;MACFnB,eAAe,EAAEA;IAAgB;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChC,CACJ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEd,CAAC;AAACT,EAAA,CAtCIL,UAAoC;EAAA,QACIJ,aAAa;AAAA;AAAA6B,EAAA,GADrDzB,UAAoC;AAwC1C,eAAeA,UAAU;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}